# NCO replace with operational GFS ecflow node path
extern /cycled_v16_3/primary/00/gfs/v16.3/gfs/jgfs_forecast
extern /cycled_v16_3/primary/06/gfs/v16.3/gfs/jgfs_forecast
extern /cycled_v16_3/primary/12/gfs/v16.3/gfs/jgfs_forecast
extern /cycled_v16_3/primary/18/gfs/v16.3/gfs/jgfs_forecast

suite nco_aqm
  family primary
    edit aqm_ver 'v7.0'
    edit PACKAGEHOME '/lfs/h2/emc/global/noscrub/%EMC_USER%/para/packages/aqm.%aqm_ver%'
    edit NET 'aqm'
    edit RUN 'aqm'
    edit PROJ 'AQM'
    edit PROJENVIR 'DEV'
    edit MACHINE_SITE 'development' 
    edit ENVIR 'prod'
    edit QUEUE 'dev'
    edit QUEUE_ARCH 'dev_transfer'
    edit OUTPUTDIR '/lfs/h2/emc/ptmp/%EMC_USER%/ecflow_aqm/para/output/prod/today'
    family 00
      edit CYC '00'
      family aqm
        family v1.0
          edit ECF_FILES '%PACKAGEHOME%/ecf/scripts'
          family nexus
            task jaqm_nexus_gfs_sfc
              trigger /cycled_v16_3/primary/18/gfs/v16.3/gfs/jgfs_forecast==complete or ../../../../18/aqm/v1.0/aqm_manager/jaqm_manager:release_next_cycle
              # NCO replace with time based trigger
            task jaqm_nexus_emission_00
              edit NSPT '00'
              trigger ./jaqm_nexus_gfs_sfc==complete
            task jaqm_nexus_emission_01
              edit NSPT '01'
              trigger ./jaqm_nexus_gfs_sfc==complete
            task jaqm_nexus_emission_02
              edit NSPT '02'
              trigger ./jaqm_nexus_gfs_sfc==complete
            task jaqm_nexus_emission_03
              edit NSPT '03'
              trigger ./jaqm_nexus_gfs_sfc==complete
            task jaqm_nexus_emission_04
              edit NSPT '04'
              trigger ./jaqm_nexus_gfs_sfc==complete
            task jaqm_nexus_emission_05
              edit NSPT '05'
              trigger ./jaqm_nexus_gfs_sfc==complete
            task jaqm_nexus_post_split
              trigger ./jaqm_nexus_emission_00==complete and ./jaqm_nexus_emission_01==complete and ./jaqm_nexus_emission_02==complete
          endfamily
          family prep
            task jaqm_get_extrn_ics
              trigger ../nexus/jaqm_nexus_gfs_sfc==active or ../nexus/jaqm_nexus_gfs_sfc==complete
            task jaqm_get_extrn_lbcs
              trigger ../nexus/jaqm_nexus_gfs_sfc==active or ../nexus/jaqm_nexus_gfs_sfc==complete
            task jaqm_make_ics
              trigger ./jaqm_get_extrn_ics==complete
            task jaqm_make_lbcs
              trigger ./jaqm_get_extrn_lbcs==complete
            task jaqm_ics
              trigger ./jaqm_make_ics==complete
            task jaqm_lbcs
              trigger ./jaqm_make_lbcs==complete
          endfamily
          family pts_fire_emis
            task jaqm_point_source
              trigger ../nexus/jaqm_nexus_gfs_sfc==active or ../nexus/jaqm_nexus_gfs_sfc==complete
            task jaqm_fire_emission
              trigger ../nexus/jaqm_nexus_gfs_sfc==active or ../nexus/jaqm_nexus_gfs_sfc==complete
          endfamily
          family forecast
            task jaqm_forecast
              trigger ../nexus==complete and ../prep==complete and ../pts_fire_emis==complete
          endfamily
          family post
            task jaqm_post_f000
              edit FHR '000'
              trigger ../forecast==complete
            task jaqm_post_f001
              edit FHR '001'
              trigger ../forecast==complete
            task jaqm_post_f002
              edit FHR '002'
              trigger ../forecast==complete
            task jaqm_post_f003
              edit FHR '003'
              trigger ../forecast==complete
            task jaqm_post_f004
              edit FHR '004'
              trigger ../forecast==complete
            task jaqm_post_f005
              edit FHR '005'
              trigger ../forecast==complete
            task jaqm_post_f006
              edit FHR '006'
              trigger ../forecast==complete
          endfamily
          family product
            task jaqm_pre_post_stat
              trigger ../forecast==complete
            task jaqm_post_stat_o3
              trigger ./jaqm_pre_post_stat==complete
            task jaqm_post_stat_pm25
              trigger ./jaqm_pre_post_stat==complete
            task jaqm_bias_correction_o3
              trigger ./jaqm_pre_post_stat==complete
            task jaqm_bias_correction_pm25
              trigger ./jaqm_pre_post_stat==complete
          endfamily
          family aqm_manager
            task jaqm_manager
              trigger ../nexus/jaqm_nexus_gfs_sfc==active or ../nexus/jaqm_nexus_gfs_sfc==complete
              event 1 release_next_cycle
              event 2 requeue_cycle
            task jaqm_data_cleanup
              trigger ../forecast==complete
          endfamily
        endfamily  # v1.0
      endfamily    # aqm
    endfamily      # 00
    family 06
      edit CYC '06'
      family aqm
        family v1.0
          edit ECF_FILES '%PACKAGEHOME%/ecf/scripts'
          family nexus
            task jaqm_nexus_gfs_sfc
              trigger /cycled_v16_3/primary/18/gfs/v16.3/gfs/jgfs_forecast==complete or ../../../../00/aqm/v1.0/aqm_manager/jaqm_manager:release_next_cycle
              # NCO replace with time based trigger
            task jaqm_nexus_emission_00
              edit NSPT '00'
              trigger ./jaqm_nexus_gfs_sfc==complete
            task jaqm_nexus_emission_01
              edit NSPT '01'
              trigger ./jaqm_nexus_gfs_sfc==complete
            task jaqm_nexus_emission_02
              edit NSPT '02'
              trigger ./jaqm_nexus_gfs_sfc==complete
            task jaqm_nexus_emission_03
              edit NSPT '03'
              trigger ./jaqm_nexus_gfs_sfc==complete
            task jaqm_nexus_emission_04
              edit NSPT '04'
              trigger ./jaqm_nexus_gfs_sfc==complete
            task jaqm_nexus_emission_05
              edit NSPT '05'
              trigger ./jaqm_nexus_gfs_sfc==complete
            task jaqm_nexus_post_split
              trigger ./jaqm_nexus_emission_00==complete and ./jaqm_nexus_emission_01==complete and ./jaqm_nexus_emission_02==complete
          endfamily
          family prep
            task jaqm_get_extrn_ics
              trigger ../nexus/jaqm_nexus_gfs_sfc==active or ../nexus/jaqm_nexus_gfs_sfc==complete
            task jaqm_get_extrn_lbcs
              trigger ../nexus/jaqm_nexus_gfs_sfc==active or ../nexus/jaqm_nexus_gfs_sfc==complete
            task jaqm_make_ics
              trigger ./jaqm_get_extrn_ics==complete
            task jaqm_make_lbcs
              trigger ./jaqm_get_extrn_lbcs==complete
            task jaqm_ics
              trigger ./jaqm_make_ics==complete
            task jaqm_lbcs
              trigger ./jaqm_make_lbcs==complete
          endfamily
          family pts_fire_emis
            task jaqm_point_source
              trigger ../nexus/jaqm_nexus_gfs_sfc==active or ../nexus/jaqm_nexus_gfs_sfc==complete
            task jaqm_fire_emission
              trigger ../nexus/jaqm_nexus_gfs_sfc==active or ../nexus/jaqm_nexus_gfs_sfc==complete
          endfamily
          family forecast
            task jaqm_forecast
              trigger ../nexus==complete and ../prep==complete and ../pts_fire_emis==complete
          endfamily
          family post
            task jaqm_post_f000
              edit FHR '000'
              trigger ../forecast==complete
            task jaqm_post_f001
              edit FHR '001'
              trigger ../forecast==complete
            task jaqm_post_f002
              edit FHR '002'
              trigger ../forecast==complete
            task jaqm_post_f003
              edit FHR '003'
              trigger ../forecast==complete
            task jaqm_post_f004
              edit FHR '004'
              trigger ../forecast==complete
            task jaqm_post_f005
              edit FHR '005'
              trigger ../forecast==complete
            task jaqm_post_f006
              edit FHR '006'
              trigger ../forecast==complete
            task jaqm_post_f007
              edit FHR '007'
              trigger ../forecast==complete
            task jaqm_post_f008
              edit FHR '008'
              trigger ../forecast==complete
            task jaqm_post_f009
              edit FHR '009'
              trigger ../forecast==complete
            task jaqm_post_f010
              edit FHR '010'
              trigger ../forecast==complete
            task jaqm_post_f011
              edit FHR '011'
              trigger ../forecast==complete
            task jaqm_post_f012
              edit FHR '012'
              trigger ../forecast==complete
            task jaqm_post_f013
              edit FHR '013'
              trigger ../forecast==complete
            task jaqm_post_f014
              edit FHR '014'
              trigger ../forecast==complete
            task jaqm_post_f015
              edit FHR '015'
              trigger ../forecast==complete
            task jaqm_post_f016
              edit FHR '016'
              trigger ../forecast==complete
            task jaqm_post_f017
              edit FHR '017'
              trigger ../forecast==complete
            task jaqm_post_f018
              edit FHR '018'
              trigger ../forecast==complete
            task jaqm_post_f019
              edit FHR '019'
              trigger ../forecast==complete
            task jaqm_post_f020
              edit FHR '020'
              trigger ../forecast==complete
            task jaqm_post_f021
              edit FHR '021'
              trigger ../forecast==complete
            task jaqm_post_f022
              edit FHR '022'
              trigger ../forecast==complete
            task jaqm_post_f023
              edit FHR '023'
              trigger ../forecast==complete
            task jaqm_post_f024
              edit FHR '024'
              trigger ../forecast==complete
            task jaqm_post_f025
              edit FHR '025'
              trigger ../forecast==complete
            task jaqm_post_f026
              edit FHR '026'
              trigger ../forecast==complete
            task jaqm_post_f027
              edit FHR '027'
              trigger ../forecast==complete
            task jaqm_post_f028
              edit FHR '028'
              trigger ../forecast==complete
            task jaqm_post_f029
              edit FHR '029'
              trigger ../forecast==complete
            task jaqm_post_f030
              edit FHR '030'
              trigger ../forecast==complete
            task jaqm_post_f031
              edit FHR '031'
              trigger ../forecast==complete
            task jaqm_post_f032
              edit FHR '032'
              trigger ../forecast==complete
            task jaqm_post_f033
              edit FHR '033'
              trigger ../forecast==complete
            task jaqm_post_f034
              edit FHR '034'
              trigger ../forecast==complete
            task jaqm_post_f035
              edit FHR '035'
              trigger ../forecast==complete
            task jaqm_post_f036
              edit FHR '036'
              trigger ../forecast==complete
            task jaqm_post_f037
              edit FHR '037'
              trigger ../forecast==complete
            task jaqm_post_f038
              edit FHR '038'
              trigger ../forecast==complete
            task jaqm_post_f039
              edit FHR '039'
              trigger ../forecast==complete
            task jaqm_post_f040
              edit FHR '040'
              trigger ../forecast==complete
            task jaqm_post_f041
              edit FHR '041'
              trigger ../forecast==complete
            task jaqm_post_f042
              edit FHR '042'
              trigger ../forecast==complete
            task jaqm_post_f043
              edit FHR '043'
              trigger ../forecast==complete
            task jaqm_post_f044
              edit FHR '044'
              trigger ../forecast==complete
            task jaqm_post_f045
              edit FHR '045'
              trigger ../forecast==complete
            task jaqm_post_f046
              edit FHR '046'
              trigger ../forecast==complete
            task jaqm_post_f047
              edit FHR '047'
              trigger ../forecast==complete
            task jaqm_post_f048
              edit FHR '048'
              trigger ../forecast==complete
            task jaqm_post_f049
              edit FHR '049'
              trigger ../forecast==complete
            task jaqm_post_f050
              edit FHR '050'
              trigger ../forecast==complete
            task jaqm_post_f051
              edit FHR '051'
              trigger ../forecast==complete
            task jaqm_post_f052
              edit FHR '052'
              trigger ../forecast==complete
            task jaqm_post_f053
              edit FHR '053'
              trigger ../forecast==complete
            task jaqm_post_f054
              edit FHR '054'
              trigger ../forecast==complete
            task jaqm_post_f055
              edit FHR '055'
              trigger ../forecast==complete
            task jaqm_post_f056
              edit FHR '056'
              trigger ../forecast==complete
            task jaqm_post_f057
              edit FHR '057'
              trigger ../forecast==complete
            task jaqm_post_f058
              edit FHR '058'
              trigger ../forecast==complete
            task jaqm_post_f059
              edit FHR '059'
              trigger ../forecast==complete
            task jaqm_post_f060
              edit FHR '060'
              trigger ../forecast==complete
            task jaqm_post_f061
              edit FHR '061'
              trigger ../forecast==complete
            task jaqm_post_f062
              edit FHR '062'
              trigger ../forecast==complete
            task jaqm_post_f063
              edit FHR '063'
              trigger ../forecast==complete
            task jaqm_post_f064
              edit FHR '064'
              trigger ../forecast==complete
            task jaqm_post_f065
              edit FHR '065'
              trigger ../forecast==complete
            task jaqm_post_f066
              edit FHR '066'
              trigger ../forecast==complete
            task jaqm_post_f067
              edit FHR '067'
              trigger ../forecast==complete
            task jaqm_post_f068
              edit FHR '068'
              trigger ../forecast==complete
            task jaqm_post_f069
              edit FHR '069'
              trigger ../forecast==complete
            task jaqm_post_f070
              edit FHR '070'
              trigger ../forecast==complete
            task jaqm_post_f071
              edit FHR '071'
              trigger ../forecast==complete
            task jaqm_post_f072
              edit FHR '072'
              trigger ../forecast==complete
          endfamily
          family product
            task jaqm_pre_post_stat
              trigger ../forecast==complete
            task jaqm_post_stat_o3
              trigger ./jaqm_pre_post_stat==complete
            task jaqm_post_stat_pm25
              trigger ./jaqm_pre_post_stat==complete
            task jaqm_bias_correction_o3
              trigger ./jaqm_pre_post_stat==complete
            task jaqm_bias_correction_pm25
              trigger ./jaqm_pre_post_stat==complete
          endfamily
          family aqm_manager
            task jaqm_manager
              trigger ../nexus/jaqm_nexus_gfs_sfc==active or ../nexus/jaqm_nexus_gfs_sfc==complete
              event 1 release_next_cycle
              event 2 requeue_cycle
            task jaqm_data_cleanup
              trigger ../forecast==complete
          endfamily
        endfamily  # v1.0
      endfamily    # aqm
    endfamily      # 06
    family 12
      edit CYC '12'
      family aqm
        family v1.0
          edit ECF_FILES '%PACKAGEHOME%/ecf/scripts'
          family nexus
            task jaqm_nexus_gfs_sfc
              trigger /cycled_v16_3/primary/18/gfs/v16.3/gfs/jgfs_forecast==complete or ../../../../06/aqm/v1.0/aqm_manager/jaqm_manager:release_next_cycle
              # NCO replace with time based trigger
            task jaqm_nexus_emission_00
              edit NSPT '00'
              trigger ./jaqm_nexus_gfs_sfc==complete
            task jaqm_nexus_emission_01
              edit NSPT '01'
              trigger ./jaqm_nexus_gfs_sfc==complete
            task jaqm_nexus_emission_02
              edit NSPT '02'
              trigger ./jaqm_nexus_gfs_sfc==complete
            task jaqm_nexus_emission_03
              edit NSPT '03'
              trigger ./jaqm_nexus_gfs_sfc==complete
            task jaqm_nexus_emission_04
              edit NSPT '04'
              trigger ./jaqm_nexus_gfs_sfc==complete
            task jaqm_nexus_emission_05
              edit NSPT '05'
              trigger ./jaqm_nexus_gfs_sfc==complete
            task jaqm_nexus_post_split
              trigger ./jaqm_nexus_emission_00==complete and ./jaqm_nexus_emission_01==complete and ./jaqm_nexus_emission_02==complete
          endfamily
          family prep
            task jaqm_get_extrn_ics
              trigger ../nexus/jaqm_nexus_gfs_sfc==active or ../nexus/jaqm_nexus_gfs_sfc==complete
            task jaqm_get_extrn_lbcs
              trigger ../nexus/jaqm_nexus_gfs_sfc==active or ../nexus/jaqm_nexus_gfs_sfc==complete
            task jaqm_make_ics
              trigger ./jaqm_get_extrn_ics==complete
            task jaqm_make_lbcs
              trigger ./jaqm_get_extrn_lbcs==complete
            task jaqm_ics
              trigger ./jaqm_make_ics==complete
            task jaqm_lbcs
              trigger ./jaqm_make_lbcs==complete
          endfamily
          family pts_fire_emis
            task jaqm_point_source
              trigger ../nexus/jaqm_nexus_gfs_sfc==active or ../nexus/jaqm_nexus_gfs_sfc==complete
            task jaqm_fire_emission
              trigger ../nexus/jaqm_nexus_gfs_sfc==active or ../nexus/jaqm_nexus_gfs_sfc==complete
          endfamily
          family forecast
            task jaqm_forecast
              trigger ../nexus==complete and ../prep==complete and ../pts_fire_emis==complete
          endfamily
          family post
            task jaqm_post_f000
              edit FHR '000'
              trigger ../forecast==complete
            task jaqm_post_f001
              edit FHR '001'
              trigger ../forecast==complete
            task jaqm_post_f002
              edit FHR '002'
              trigger ../forecast==complete
            task jaqm_post_f003
              edit FHR '003'
              trigger ../forecast==complete
            task jaqm_post_f004
              edit FHR '004'
              trigger ../forecast==complete
            task jaqm_post_f005
              edit FHR '005'
              trigger ../forecast==complete
            task jaqm_post_f006
              edit FHR '006'
              trigger ../forecast==complete
            task jaqm_post_f007
              edit FHR '007'
              trigger ../forecast==complete
            task jaqm_post_f008
              edit FHR '008'
              trigger ../forecast==complete
            task jaqm_post_f009
              edit FHR '009'
              trigger ../forecast==complete
            task jaqm_post_f010
              edit FHR '010'
              trigger ../forecast==complete
            task jaqm_post_f011
              edit FHR '011'
              trigger ../forecast==complete
            task jaqm_post_f012
              edit FHR '012'
              trigger ../forecast==complete
            task jaqm_post_f013
              edit FHR '013'
              trigger ../forecast==complete
            task jaqm_post_f014
              edit FHR '014'
              trigger ../forecast==complete
            task jaqm_post_f015
              edit FHR '015'
              trigger ../forecast==complete
            task jaqm_post_f016
              edit FHR '016'
              trigger ../forecast==complete
            task jaqm_post_f017
              edit FHR '017'
              trigger ../forecast==complete
            task jaqm_post_f018
              edit FHR '018'
              trigger ../forecast==complete
            task jaqm_post_f019
              edit FHR '019'
              trigger ../forecast==complete
            task jaqm_post_f020
              edit FHR '020'
              trigger ../forecast==complete
            task jaqm_post_f021
              edit FHR '021'
              trigger ../forecast==complete
            task jaqm_post_f022
              edit FHR '022'
              trigger ../forecast==complete
            task jaqm_post_f023
              edit FHR '023'
              trigger ../forecast==complete
            task jaqm_post_f024
              edit FHR '024'
              trigger ../forecast==complete
            task jaqm_post_f025
              edit FHR '025'
              trigger ../forecast==complete
            task jaqm_post_f026
              edit FHR '026'
              trigger ../forecast==complete
            task jaqm_post_f027
              edit FHR '027'
              trigger ../forecast==complete
            task jaqm_post_f028
              edit FHR '028'
              trigger ../forecast==complete
            task jaqm_post_f029
              edit FHR '029'
              trigger ../forecast==complete
            task jaqm_post_f030
              edit FHR '030'
              trigger ../forecast==complete
            task jaqm_post_f031
              edit FHR '031'
              trigger ../forecast==complete
            task jaqm_post_f032
              edit FHR '032'
              trigger ../forecast==complete
            task jaqm_post_f033
              edit FHR '033'
              trigger ../forecast==complete
            task jaqm_post_f034
              edit FHR '034'
              trigger ../forecast==complete
            task jaqm_post_f035
              edit FHR '035'
              trigger ../forecast==complete
            task jaqm_post_f036
              edit FHR '036'
              trigger ../forecast==complete
            task jaqm_post_f037
              edit FHR '037'
              trigger ../forecast==complete
            task jaqm_post_f038
              edit FHR '038'
              trigger ../forecast==complete
            task jaqm_post_f039
              edit FHR '039'
              trigger ../forecast==complete
            task jaqm_post_f040
              edit FHR '040'
              trigger ../forecast==complete
            task jaqm_post_f041
              edit FHR '041'
              trigger ../forecast==complete
            task jaqm_post_f042
              edit FHR '042'
              trigger ../forecast==complete
            task jaqm_post_f043
              edit FHR '043'
              trigger ../forecast==complete
            task jaqm_post_f044
              edit FHR '044'
              trigger ../forecast==complete
            task jaqm_post_f045
              edit FHR '045'
              trigger ../forecast==complete
            task jaqm_post_f046
              edit FHR '046'
              trigger ../forecast==complete
            task jaqm_post_f047
              edit FHR '047'
              trigger ../forecast==complete
            task jaqm_post_f048
              edit FHR '048'
              trigger ../forecast==complete
            task jaqm_post_f049
              edit FHR '049'
              trigger ../forecast==complete
            task jaqm_post_f050
              edit FHR '050'
              trigger ../forecast==complete
            task jaqm_post_f051
              edit FHR '051'
              trigger ../forecast==complete
            task jaqm_post_f052
              edit FHR '052'
              trigger ../forecast==complete
            task jaqm_post_f053
              edit FHR '053'
              trigger ../forecast==complete
            task jaqm_post_f054
              edit FHR '054'
              trigger ../forecast==complete
            task jaqm_post_f055
              edit FHR '055'
              trigger ../forecast==complete
            task jaqm_post_f056
              edit FHR '056'
              trigger ../forecast==complete
            task jaqm_post_f057
              edit FHR '057'
              trigger ../forecast==complete
            task jaqm_post_f058
              edit FHR '058'
              trigger ../forecast==complete
            task jaqm_post_f059
              edit FHR '059'
              trigger ../forecast==complete
            task jaqm_post_f060
              edit FHR '060'
              trigger ../forecast==complete
            task jaqm_post_f061
              edit FHR '061'
              trigger ../forecast==complete
            task jaqm_post_f062
              edit FHR '062'
              trigger ../forecast==complete
            task jaqm_post_f063
              edit FHR '063'
              trigger ../forecast==complete
            task jaqm_post_f064
              edit FHR '064'
              trigger ../forecast==complete
            task jaqm_post_f065
              edit FHR '065'
              trigger ../forecast==complete
            task jaqm_post_f066
              edit FHR '066'
              trigger ../forecast==complete
            task jaqm_post_f067
              edit FHR '067'
              trigger ../forecast==complete
            task jaqm_post_f068
              edit FHR '068'
              trigger ../forecast==complete
            task jaqm_post_f069
              edit FHR '069'
              trigger ../forecast==complete
            task jaqm_post_f070
              edit FHR '070'
              trigger ../forecast==complete
            task jaqm_post_f071
              edit FHR '071'
              trigger ../forecast==complete
            task jaqm_post_f072
              edit FHR '072'
              trigger ../forecast==complete
          endfamily
          family product
            task jaqm_pre_post_stat
              trigger ../forecast==complete
            task jaqm_post_stat_o3
              trigger ./jaqm_pre_post_stat==complete
            task jaqm_post_stat_pm25
              trigger ./jaqm_pre_post_stat==complete
            task jaqm_bias_correction_o3
              trigger ./jaqm_pre_post_stat==complete
            task jaqm_bias_correction_pm25
              trigger ./jaqm_pre_post_stat==complete
          endfamily
          family aqm_manager
            task jaqm_manager
              trigger ../nexus/jaqm_nexus_gfs_sfc==active or ../nexus/jaqm_nexus_gfs_sfc==complete
              event 1 release_next_cycle
              event 2 requeue_cycle
            task jaqm_data_cleanup
              trigger ../forecast==complete
          endfamily
        endfamily  # v1.0
      endfamily    # aqm
    endfamily      # 12
    family 18
      edit CYC '18'
      family aqm
        family v1.0
          edit ECF_FILES '%PACKAGEHOME%/ecf/scripts'
          family nexus
            task jaqm_nexus_gfs_sfc
              trigger /cycled_v16_3/primary/18/gfs/v16.3/gfs/jgfs_forecast==complete or ../../../../12/aqm/v1.0/aqm_manager/jaqm_manager:release_next_cycle
              # NCO replace with time based trigger
            task jaqm_nexus_emission_00
              edit NSPT '00'
              trigger ./jaqm_nexus_gfs_sfc==complete
            task jaqm_nexus_emission_01
              edit NSPT '01'
              trigger ./jaqm_nexus_gfs_sfc==complete
            task jaqm_nexus_emission_02
              edit NSPT '02'
              trigger ./jaqm_nexus_gfs_sfc==complete
            task jaqm_nexus_emission_03
              edit NSPT '03'
              trigger ./jaqm_nexus_gfs_sfc==complete
            task jaqm_nexus_emission_04
              edit NSPT '04'
              trigger ./jaqm_nexus_gfs_sfc==complete
            task jaqm_nexus_emission_05
              edit NSPT '05'
              trigger ./jaqm_nexus_gfs_sfc==complete
            task jaqm_nexus_post_split
              trigger ./jaqm_nexus_emission_00==complete and ./jaqm_nexus_emission_01==complete and ./jaqm_nexus_emission_02==complete
          endfamily
          family prep
            task jaqm_get_extrn_ics
              trigger ../nexus/jaqm_nexus_gfs_sfc==active or ../nexus/jaqm_nexus_gfs_sfc==complete
            task jaqm_get_extrn_lbcs
              trigger ../nexus/jaqm_nexus_gfs_sfc==active or ../nexus/jaqm_nexus_gfs_sfc==complete
            task jaqm_make_ics
              trigger ./jaqm_get_extrn_ics==complete
            task jaqm_make_lbcs
              trigger ./jaqm_get_extrn_lbcs==complete
            task jaqm_ics
              trigger ./jaqm_make_ics==complete
            task jaqm_lbcs
              trigger ./jaqm_make_lbcs==complete
          endfamily
          family pts_fire_emis
            task jaqm_point_source
              trigger ../nexus/jaqm_nexus_gfs_sfc==active or ../nexus/jaqm_nexus_gfs_sfc==complete
            task jaqm_fire_emission
              trigger ../nexus/jaqm_nexus_gfs_sfc==active or ../nexus/jaqm_nexus_gfs_sfc==complete
          endfamily
          family forecast
            task jaqm_forecast
              trigger ../nexus==complete and ../prep==complete and ../pts_fire_emis==complete
          endfamily
          family post
            task jaqm_post_f000
              edit FHR '000'
              trigger ../forecast==complete
            task jaqm_post_f001
              edit FHR '001'
              trigger ../forecast==complete
            task jaqm_post_f002
              edit FHR '002'
              trigger ../forecast==complete
            task jaqm_post_f003
              edit FHR '003'
              trigger ../forecast==complete
            task jaqm_post_f004
              edit FHR '004'
              trigger ../forecast==complete
            task jaqm_post_f005
              edit FHR '005'
              trigger ../forecast==complete
            task jaqm_post_f006
              edit FHR '006'
              trigger ../forecast==complete
          endfamily
          family product
            task jaqm_pre_post_stat
              trigger ../forecast==complete
            task jaqm_post_stat_o3
              trigger ./jaqm_pre_post_stat==complete
            task jaqm_post_stat_pm25
              trigger ./jaqm_pre_post_stat==complete
            task jaqm_bias_correction_o3
              trigger ./jaqm_pre_post_stat==complete
            task jaqm_bias_correction_pm25
              trigger ./jaqm_pre_post_stat==complete
          endfamily
          family aqm_manager
            task jaqm_manager
              trigger ../nexus/jaqm_nexus_gfs_sfc==active or ../nexus/jaqm_nexus_gfs_sfc==complete
              event 1 release_next_cycle
              event 2 requeue_cycle
            task jaqm_data_cleanup
              trigger ../forecast==complete
          endfamily
        endfamily  # v1.0
      endfamily    # aqm
    endfamily      # 18
  endfamily        # primary
endsuite
