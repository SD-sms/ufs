#%Module

proc ModulesHelp { } {
   puts stderr "This module loads libraries for building SRW on"
   puts stderr "the NOAA RDHPC machine Hera using Intel-18.0.5.274"
}

module-whatis "Loads libraries needed for building SRW on Hera"

module use /scratch1/NCEPDEV/nems/emc.nemspara/soft/modulefiles

module use /contrib/sutils/modulefiles
module load sutils

module load intel/2022.1.2
module load impi/2022.1.2
module load cmake/3.20.1

module use /scratch1/NCEPDEV/stmp2/Natalie.Perlin/HPC-stack/install-1.2.0_intel2022/modulefiles/stack


module load hpc/1.2.0
module load hpc-intel/2022.1.2
module load hpc-impi/2022.1.2
#module load intelpython/2022.1.2

module use /scratch1/NCEPDEV/stmp2/Natalie.Perlin/SRW/ufs-srweather-app/modulefiles
module load srw_common

#module unload fms
#module load fms/2021.03-avx

setenv CMAKE_C_COMPILER mpiicc
setenv CMAKE_CXX_COMPILER mpiicpc
setenv CMAKE_Fortran_COMPILER mpiifort
setenv CMAKE_Platform hera.intel

# use shared memory and OpenFabrics Alliance (OFA) fabric with Intel MPI to circumvent RDMA-related bug in DAPL.
setenv I_MPI_Platform shm:ofa
