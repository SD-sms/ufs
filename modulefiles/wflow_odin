#%Module

proc ModulesHelp { } {
   put stderr "This module loads python environement for running SRW on"
   put stderr "NSSL machine Odin"
}

module-whatis "Loads libraries needed for running SRW on Odin"

if { [module-info mode load] } {
  # >>> conda initialize >>>
  # !! Contents within this block are managed by 'conda init' !!
  if {[ system "/scratch/software/Odin/python/anaconda2/bin/conda shell.bash hook 2> /dev/null" ]} {
  } else {
      if {[ file exists "/scratch/software/Odin/python/anaconda2/etc/profile.d/conda.sh" ]} {
        system "source /scratch/software/Odin/python/anaconda2/etc/profile.d/conda.sh;"
      } else {
        prepend-path PATH "/scratch/software/Odin/python/anaconda2/bin"
      }
  }
  # <<< conda initialize <<<

  # To make "regional_workflow" avaiable,
  # you should uncomment the following lines, which create file ".condarc"
  # or install the environment yourself.
  # 
#  set cmd {cat > $HOME/.condarc <<EOF
#envs_dirs:
#  - /home/yunheng.wang/.conda/envs
#EOF}
#  system "$cmd"
  
  puts stderr "Please do the following to activate conda:
       > conda config --set changeps1 False
       > conda activate regional_workflow"
}

