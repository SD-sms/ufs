# Trying to match grid_RRFS_CONUS_25km_ics_HRRR_lbcs_RAP_suite_HRRR 
#
#
rocoto:
  entities:
    ACCOUNT: '{{ user.ACCOUNT }}'
    CCPA_OBS_DIR: '{{ platform.CCPA_OBS_DIR }}'
    COMIN_BASEDIR: '{{ nco.COMIN_BASEDIR }}'
    COMOUT_BASEDIR: '{{ nco.COMOUT_BASEDIR }}'
    EXPTDIR: '{{ workflow.EXPTDIR }}'
    GLOBAL_VAR_DEFNS_FP: '{{ workflow.GLOBAL_VAR_DEFNS_FP }}'
    JOBSDIR: '{{ user.JOBSdir }}'
    LOAD_MODULES_RUN_TASK_FP: '{{ workflow.LOAD_MODULES_RUN_TASK_FP }}'
    LOGDIR: '{% if user.RUN_ENVIR == "nco" %} "{}/@Y@m@d".format(nco.LOGBASEDIR) {% else %} nco.LOGBASEDIR {% endif %}'
    LOGEXT: '{% if user.RUN_ENVIR == "nco" %} ".{}.log".format(workflow.WORKFLOW_ID) {% else %} ".log" {% endif %}'
    MRMS_OBS_DIR: '{{ platform.MRMS_OBS_DIR }}'
    NCORES_PER_NODE: '{{ platform.NCORES_PER_NODE }}'
    NDAS_OBS_DIR: '{{ platform.NDAS_OBS_DIR }}'
    NET: '{{ nco.NET }}'
    PARTITION_DEFAULT: '{{ platform.PARTITION_DEFAULT }}'
    PARTITION_FCST: '{{ platform.PARTITION_FCST }}'
    PARTITION_HPSS: '{{ platform.PARTITION_HPSS }}'
    QUEUE_DEFAULT: '{{ platform.QUEUE_DEFAULT }}'
    QUEUE_FCST: '{{ platform.QUEUE_FCST }}'
    QUEUE_HPSS: '{{ platform.QUEUE_HPSS }}'
    RUN: '{{ nco.RUN }}'
    SCHED_NATIVE_CMD: '{{ platform.SCHED_NATIVE_CMD }}'
    SCRIPTSDIR: '{{ user.SCRIPTSdir }}'
    USCORE_ENSMEM_NAME: '{% if global.DO_ENSEMBLE  %}{{ "_mem#mem#" }}{% else %}{{ "" }}{% endif %}'
    WORKFLOW_ID: '{{ workflow.WORKFLOW_ID }}'
  attrs:
    cyclethrottle: "20"
    realtime: False
    scheduler: '{{ platform.SCHED }}'
  cycledefs:
    at_start:
      dates: !startstopfreq ['workflow.DATE_FIRST_CYCL', 'workflow.DATE_FIRST_CYCL', 'workflow.CYCL_FREQ']
    forecast:
      dates: !startstopfreq ['workflow.DATE_FIRST_CYCL', 'workflow.DATE_LAST_CYCL', 'workflow.CYCL_FREQ']
  log: !cycstr '&LOGDIR'
  tasks: !include ['parm/wflow/prep.yaml', 'parm/wflow/coldstart.yaml']
